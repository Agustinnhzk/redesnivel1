<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DesafÃ­o Redes - Nivel 1</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #0f172a;
      color: #f1f5f9;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .game-container {
      background-color: #1e293b;
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
      max-width: 600px;
      width: 100%;
    }
    h1, h2 {
      text-align: center;
    }
    .question {
      margin-bottom: 1rem;
    }
    .choices {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    button {
      padding: 1rem;
      border: none;
      border-radius: 0.5rem;
      background-color: #334155;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #475569;
    }
    .feedback {
      margin-top: 1rem;
      font-weight: bold;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="game-container">
    <h1>DesafÃ­o Redes</h1>
    <h2>Nivel 1: El Origen de la Red</h2>
    <div id="question-container">
      <p class="question" id="question"></p>
      <div class="choices" id="choices"></div>
      <p class="feedback" id="feedback"></p>
    </div>
    <div id="end-message" class="hidden">
      <h2>Â¡Nivel superado, Agus! ðŸŽ‰</h2>
      <p>Puntaje final: <span id="score"></span>/30</p>
    </div>
  </div>

  <script>
    const questions = [
      { question: "Â¿QuÃ© es una red de datos?", options: ["Un conjunto de dispositivos conectados que comparten recursos", "Una red social", "Un Ãºnico dispositivo aislado"], answer: 0, explanation: "Una red de datos conecta dispositivos para compartir recursos y comunicarse." },
      { question: "Â¿QuÃ© modelo tiene 7 capas y ayuda a entender cÃ³mo se comunican los dispositivos?", options: ["Modelo OSI", "Modelo Internet", "Modelo Ethernet"], answer: 0, explanation: "El modelo OSI tiene 7 capas que explican cÃ³mo viajan los datos desde un dispositivo a otro." },
      { question: "Â¿CuÃ¡l de estas topologÃ­as conecta todos los dispositivos a un solo punto central?", options: ["Estrella", "Anillo", "Malla"], answer: 0, explanation: "La topologÃ­a en estrella conecta todos los dispositivos a un switch o hub central." },
      { question: "Â¿QuÃ© protocolo permite comunicaciÃ³n de extremo a extremo en Internet?", options: ["TCP/IP", "HTTP", "Ethernet"], answer: 0, explanation: "TCP/IP es el conjunto de protocolos base de Internet y permite la comunicaciÃ³n de extremo a extremo." },
      { question: "Â¿QuÃ© es Ethernet?", options: ["Una tecnologÃ­a de red de Ã¡rea local (LAN)", "Una marca de routers", "Un tipo de cable de fibra Ã³ptica"], answer: 0, explanation: "Ethernet es la tecnologÃ­a LAN mÃ¡s comÃºn que usamos para conectar computadoras en redes locales." },
      { question: "Â¿QuÃ© es una direcciÃ³n IP?", options: ["Una etiqueta numÃ©rica que identifica un dispositivo en una red", "Una contraseÃ±a de red", "Una URL"], answer: 0, explanation: "Una direcciÃ³n IP es un nÃºmero Ãºnico que identifica a un dispositivo en la red." },
      { question: "Â¿QuÃ© significa LAN?", options: ["Red de Ã¡rea local", "Red de largo alcance", "Red de acceso limitado"], answer: 0, explanation: "LAN significa red de Ã¡rea local, donde los dispositivos estÃ¡n conectados en una misma zona." },
      { question: "Â¿QuÃ© dispositivo permite interconectar mÃºltiples redes?", options: ["Router", "Switch", "Hub"], answer: 0, explanation: "El router conecta distintas redes entre sÃ­ y enruta el trÃ¡fico." },
      { question: "Â¿QuÃ© funciÃ³n tiene un switch en una red?", options: ["Conecta dispositivos dentro de una misma red", "Conecta redes entre sÃ­", "Sirve contenido web"], answer: 0, explanation: "El switch interconecta dispositivos dentro de la misma red LAN de forma eficiente." },
      { question: "Â¿CuÃ¡l de estas opciones describe mejor un hub?", options: ["Un repetidor que transmite los datos a todos los puertos", "Un dispositivo inteligente que filtra trÃ¡fico", "Un cortafuegos"], answer: 0, explanation: "Un hub transmite todo el trÃ¡fico a todos los puertos sin filtrar, a diferencia del switch." },
      { question: "Â¿QuÃ© capa del modelo OSI es responsable del enrutamiento?", options: ["Capa de red", "Capa de enlace de datos", "Capa de presentaciÃ³n"], answer: 0, explanation: "La capa de red es responsable del direccionamiento y enrutamiento de datos." },
      { question: "Â¿QuÃ© hace el protocolo HTTP?", options: ["Permite la comunicaciÃ³n en la web", "Administra IPs dinÃ¡micas", "Detecta errores fÃ­sicos"], answer: 0, explanation: "HTTP es el protocolo base para el acceso a pÃ¡ginas web." },
      { question: "Â¿QuÃ© significa WAN?", options: ["Red de Ã¡rea amplia", "Red de acceso inalÃ¡mbrico", "Red de administraciÃ³n web"], answer: 0, explanation: "WAN (Wide Area Network) conecta redes a gran escala, como el Internet." },
      { question: "Â¿QuÃ© protocolo se usa para asignar direcciones IP automÃ¡ticamente?", options: ["DHCP", "DNS", "HTTP"], answer: 0, explanation: "DHCP asigna direcciones IP de forma automÃ¡tica a los dispositivos en red." },
      { question: "Â¿QuÃ© hace el protocolo DNS?", options: ["Traduce nombres de dominio a direcciones IP", "Encripta datos", "Detecta ataques DDoS"], answer: 0, explanation: "DNS traduce nombres legibles como google.com a direcciones IP numÃ©ricas." },
      { question: "Â¿QuÃ© tipo de cable es comÃºn en redes LAN?", options: ["UTP", "Coaxial", "De fibra de carbono"], answer: 0, explanation: "El cable UTP es el mÃ¡s comÃºn en instalaciones de redes LAN por su facilidad y bajo costo." },
      { question: "Â¿QuÃ© es una direcciÃ³n MAC?", options: ["Identificador Ãºnico del hardware de red", "Un tipo de cable", "Un servidor de seguridad"], answer: 0, explanation: "La direcciÃ³n MAC identifica de forma Ãºnica la interfaz de red de un dispositivo." },
      { question: "Â¿QuÃ© dispositivo sirve como punto de acceso para redes inalÃ¡mbricas?", options: ["Access Point", "Switch", "Servidor DNS"], answer: 0, explanation: "El Access Point permite que dispositivos inalÃ¡mbricos se conecten a la red." },
      { question: "Â¿QuÃ© significa protocolo?", options: ["Conjunto de reglas que rigen la comunicaciÃ³n", "Tipo de virus", "Una contraseÃ±a cifrada"], answer: 0, explanation: "Un protocolo define las reglas para la transmisiÃ³n de datos en una red." },
      { question: "Â¿CuÃ¡l de los siguientes no es un protocolo de red?", options: ["JPEG", "FTP", "SMTP"], answer: 0, explanation: "JPEG es un formato de imagen, no un protocolo de red." },
      { question: "Â¿QuÃ© capa OSI se encarga del cifrado de datos?", options: ["Capa de presentaciÃ³n", "Capa de sesiÃ³n", "Capa de transporte"], answer: 0, explanation: "La capa de presentaciÃ³n traduce, comprime y encripta los datos." },
      { question: "Â¿CuÃ¡l es la principal funciÃ³n de un firewall?", options: ["Filtrar trÃ¡fico de red", "Acelerar la conexiÃ³n", "Gestionar nombres de dominio"], answer: 0, explanation: "El firewall protege la red filtrando el trÃ¡fico entrante y saliente segÃºn reglas." },
      { question: "Â¿CuÃ¡l de estos es un protocolo de transferencia de archivos?", options: ["FTP", "HTTP", "IP"], answer: 0, explanation: "FTP es el protocolo usado especÃ­ficamente para transferir archivos entre sistemas." },
      { question: "Â¿QuÃ© diferencia a TCP de UDP?", options: ["TCP garantiza entrega, UDP no", "UDP es mÃ¡s seguro que TCP", "TCP solo se usa en redes locales"], answer: 0, explanation: "TCP garantiza entrega y orden, UDP es mÃ¡s rÃ¡pido pero no fiable." },
      { question: "Â¿QuÃ© es un puerto en redes?", options: ["Un punto lÃ³gico para comunicar servicios en una red", "Una salida de energÃ­a", "Un tipo de conector fÃ­sico"], answer: 0, explanation: "Un puerto en redes es un nÃºmero que identifica servicios dentro de una IP." },
      { question: "Â¿CuÃ¡l es la funciÃ³n del modelo OSI?", options: ["Establecer una guÃ­a para entender y diseÃ±ar redes", "Reemplazar a TCP/IP", "Asignar direcciones IP"], answer: 0, explanation: "El modelo OSI es una guÃ­a teÃ³rica para entender el proceso de comunicaciÃ³n en redes." },
      { question: "Â¿QuÃ© es un protocolo propietario?", options: ["Un protocolo desarrollado por una empresa y no abierto", "Un protocolo libre de uso pÃºblico", "Una variante del modelo OSI"], answer: 0, explanation: "Protocolos propietarios son cerrados y creados por empresas, como AppleTalk." },
      { question: "Â¿QuÃ© capa del modelo OSI se comunica directamente con el usuario?", options: ["Capa de aplicaciÃ³n", "Capa de red", "Capa fÃ­sica"], answer: 0, explanation: "La capa de aplicaciÃ³n es la mÃ¡s cercana al usuario y gestiona la interfaz de red." },
      { question: "Â¿QuÃ© significa NIC en redes?", options: ["Tarjeta de interfaz de red", "Cable de red interno", "Nodo intermedio de conexiÃ³n"], answer: 0, explanation: "NIC (Network Interface Card) es la tarjeta que conecta fÃ­sicamente el dispositivo a la red." },
      { question: "Â¿QuÃ© capa OSI gestiona el control de errores y flujo?", options: ["Capa de transporte", "Capa de red", "Capa de enlace de datos"], answer: 0, explanation: "La capa de transporte se encarga del control de errores, flujo y segmentaciÃ³n de datos." }
    ];

    let currentQuestion = 0;
    let score = 0;

    const questionEl = document.getElementById("question");
    const choicesEl = document.getElementById("choices");
    const feedbackEl = document.getElementById("feedback");
    const endMessage = document.getElementById("end-message");
    const scoreEl = document.getElementById("score");

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function showQuestion() {
      const q = questions[currentQuestion];
      questionEl.textContent = q.question;

      // Mezcla las opciones antes de mostrarlas
      const shuffledOptions = [...q.options];
      shuffleArray(shuffledOptions);

      choicesEl.innerHTML = "";
      feedbackEl.textContent = "";

      shuffledOptions.forEach((opt, idx) => {
        const btn = document.createElement("button");
        btn.textContent = opt;
        btn.onclick = () => checkAnswer(idx, shuffledOptions, q);
        choicesEl.appendChild(btn);
      });
    }

    function checkAnswer(selected, shuffledOptions, q) {
      const correctIndex = shuffledOptions.indexOf(q.options[q.answer]);

      if (selected === correctIndex) {
        score++;
        feedbackEl.textContent = "âœ… Â¡Correcto! " + q.explanation;
      } else {
        feedbackEl.textContent = "âŒ Incorrecto. " + q.explanation;
      }

      setTimeout(() => {
        currentQuestion++;
        if (currentQuestion < questions.length) {
          showQuestion();
        } else {
          document.getElementById("question-container").classList.add("hidden");
          endMessage.classList.remove("hidden");
          scoreEl.textContent = score;
        }
      }, 5000); // Pausa de 5 segundos
    }

    showQuestion();
  </script>
</body>
</html>
