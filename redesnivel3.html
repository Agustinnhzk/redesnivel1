<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Desaf√≠o Redes - Nivel 3</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #0f172a;
      color: #f1f5f9;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .game-container {
      background-color: #1e293b;
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
      max-width: 600px;
      width: 100%;
    }
    h1, h2 {
      text-align: center;
    }
    .question {
      margin-bottom: 1rem;
    }
    .choices {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    button {
      padding: 1rem;
      border: none;
      border-radius: 0.5rem;
      background-color: #334155;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #475569;
    }
    .feedback {
      margin-top: 1rem;
      font-weight: bold;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="game-container">
    <h1>Desaf√≠o Redes</h1>
    <h2>Nivel 3: Protocolos y Seguridad B√°sica</h2>
    <div id="question-container">
      <p class="question" id="question"></p>
      <div class="choices" id="choices"></div>
      <p class="feedback" id="feedback"></p>
    </div>
    <div id="end-message" class="hidden">
      <h2>¬°Nivel superado, Agus! üéâ</h2>
      <p>Puntaje final: <span id="score"></span>/30</p>
    </div>
  </div>

  <script>
    const questions = [
      { question: "¬øQu√© protocolo se utiliza para enviar correos electr√≥nicos?", options: ["SMTP", "FTP", "HTTP"], answer: 0, explanation: "SMTP (Simple Mail Transfer Protocol) es el protocolo est√°ndar para el env√≠o de correos electr√≥nicos." },
      { question: "¬øQu√© protocolo es responsable de la traducci√≥n de nombres de dominio?", options: ["DNS", "DHCP", "TCP"], answer: 0, explanation: "DNS traduce nombres de dominio como www.example.com en direcciones IP." },
      { question: "¬øCu√°l de estos es un protocolo seguro para navegaci√≥n web?", options: ["HTTPS", "HTTP", "FTP"], answer: 0, explanation: "HTTPS a√±ade una capa de seguridad mediante cifrado SSL/TLS a HTTP." },
      { question: "¬øQu√© hace el protocolo FTP?", options: ["Transfiere archivos", "Env√≠a correos electr√≥nicos", "Asigna direcciones IP"], answer: 0, explanation: "FTP (File Transfer Protocol) se utiliza para transferir archivos a trav√©s de una red." },
      { question: "¬øQu√© significa SSL?", options: ["Secure Sockets Layer", "Security Server Link", "Software Security Level"], answer: 0, explanation: "SSL (Secure Sockets Layer) es un protocolo de cifrado para comunicaciones seguras." },
      { question: "¬øQu√© protocolo reemplaza a SSL en la actualidad?", options: ["TLS", "FTP", "SMTP"], answer: 0, explanation: "TLS (Transport Layer Security) es la versi√≥n m√°s moderna y segura que reemplaza a SSL." },
      { question: "¬øQu√© protocolo se usa en redes inal√°mbricas seguras?", options: ["WPA2", "HTTP", "FTP"], answer: 0, explanation: "WPA2 (Wi-Fi Protected Access 2) es un est√°ndar de seguridad para redes inal√°mbricas." },
      { question: "¬øQu√© es un ataque de phishing?", options: ["Suplantaci√≥n de identidad para robar datos", "Un virus que da√±a hardware", "Una actualizaci√≥n de seguridad"], answer: 0, explanation: "El phishing enga√±a a las personas para que entreguen informaci√≥n personal confidencial." },
      { question: "¬øQu√© dispositivo ayuda a proteger una red de accesos no autorizados?", options: ["Firewall", "Switch", "Router"], answer: 0, explanation: "El firewall filtra y controla el tr√°fico para proteger contra accesos no autorizados." },
      { question: "¬øQu√© capa OSI maneja la comunicaci√≥n de extremo a extremo?", options: ["Transporte", "Red", "F√≠sica"], answer: 0, explanation: "La capa de transporte asegura la comunicaci√≥n confiable de extremo a extremo." },
      { question: "¬øQu√© protocolo utiliza el puerto 443?", options: ["HTTPS", "HTTP", "FTP"], answer: 0, explanation: "HTTPS usa el puerto 443 para la navegaci√≥n web segura." },
      { question: "¬øQu√© significa VPN?", options: ["Red Privada Virtual", "Verificaci√≥n de Protocolo de Nombres", "Vinculaci√≥n de Puertos de Nodo"], answer: 0, explanation: "Una VPN crea un t√∫nel seguro a trav√©s de una red p√∫blica como Internet." },
      { question: "¬øQu√© significa la sigla IPsec?", options: ["Internet Protocol Security", "Internet Password Secure", "Internal Protocol Section"], answer: 0, explanation: "IPsec es un conjunto de protocolos que aseguran comunicaciones IP cifradas." },
      { question: "¬øCu√°l de estos NO es un m√©todo de autenticaci√≥n?", options: ["Switching", "Contrase√±a", "Biometr√≠a"], answer: 0, explanation: "Switching no es un m√©todo de autenticaci√≥n, es una t√©cnica de redes." },
      { question: "¬øQu√© es sniffing en redes?", options: ["Capturar tr√°fico de red", "Actualizar servidores", "Desfragmentar discos"], answer: 0, explanation: "Sniffing consiste en interceptar y analizar paquetes de datos en una red." },
      { question: "¬øQu√© protocolo permite conexi√≥n remota segura?", options: ["SSH", "Telnet", "HTTP"], answer: 0, explanation: "SSH (Secure Shell) proporciona acceso remoto seguro a sistemas." },
      { question: "¬øQu√© protocolo obsoleto deber√≠a evitarse para conexiones remotas?", options: ["Telnet", "SSH", "HTTPS"], answer: 0, explanation: "Telnet es inseguro porque transmite datos en texto plano." },
      { question: "¬øQu√© es una zona desmilitarizada (DMZ) en redes?", options: ["√Årea intermedia entre red interna y externa", "Un servidor DNS", "Un tipo de firewall"], answer: 0, explanation: "Una DMZ es una subred que separa los servicios accesibles p√∫blicamente de la red interna segura." },
      { question: "¬øQu√© protocolo resuelve la direcci√≥n MAC a partir de una IP?", options: ["ARP", "RARP", "ICMP"], answer: 0, explanation: "ARP (Address Resolution Protocol) se encarga de encontrar la direcci√≥n MAC correspondiente a una IP." },
      { question: "¬øQu√© protocolo reporta errores en la entrega de paquetes?", options: ["ICMP", "TCP", "UDP"], answer: 0, explanation: "ICMP (Internet Control Message Protocol) informa errores y diagn√≥sticos en la red." },
      { question: "¬øQu√© herramienta usa ICMP para verificar conectividad?", options: ["Ping", "Traceroute", "FTP"], answer: 0, explanation: "Ping usa ICMP para comprobar la disponibilidad de otro dispositivo en red." },
      { question: "¬øQu√© significa que un puerto est√© 'abierto'?", options: ["Est√° disponible para aceptar conexiones", "Est√° da√±ado", "Est√° cifrado"], answer: 0, explanation: "Un puerto abierto permite que servicios espec√≠ficos reciban conexiones entrantes." },
      { question: "¬øQu√© protocolo asigna IP autom√°ticamente?", options: ["DHCP", "DNS", "SMTP"], answer: 0, explanation: "DHCP (Dynamic Host Configuration Protocol) asigna IPs autom√°ticamente a los dispositivos." },
      { question: "¬øQu√© significa cifrado de extremo a extremo?", options: ["Que solo emisor y receptor pueden leer el contenido", "Que los datos viajan m√°s r√°pido", "Que la red es inal√°mbrica"], answer: 0, explanation: "El cifrado de extremo a extremo garantiza que solo las partes involucradas puedan acceder al contenido." },
      { question: "¬øQu√© es un exploit en seguridad inform√°tica?", options: ["Un software que aprovecha vulnerabilidades", "Un firewall avanzado", "Un programa antivirus"], answer: 0, explanation: "Un exploit es un programa o c√≥digo que se aprovecha de una vulnerabilidad de seguridad." },
      { question: "¬øQu√© significa HTTPS?", options: ["HTTP Secure", "HyperText Transfer Protocol Simple", "Hyper Transport System"], answer: 0, explanation: "HTTPS es la versi√≥n segura de HTTP usando cifrado TLS." },
      { question: "¬øQu√© protocolo utiliza SSH para cifrado?", options: ["RSA", "FTP", "TCP"], answer: 0, explanation: "SSH puede usar RSA como m√©todo de cifrado para autenticar la conexi√≥n." },
      { question: "¬øQu√© tipo de ataque satura un servicio para hacerlo inaccesible?", options: ["Ataque de denegaci√≥n de servicio (DoS)", "Phishing", "Sniffing"], answer: 0, explanation: "Un ataque DoS intenta hacer que un servicio o red no est√© disponible para usuarios leg√≠timos." },
      { question: "¬øQu√© protocolo permite conocer la ruta que siguen los paquetes?", options: ["Traceroute", "Ping", "FTP"], answer: 0, explanation: "Traceroute permite rastrear el camino que siguen los paquetes hasta su destino final." },
      { question: "¬øQu√© elemento de seguridad ayuda a detectar accesos no autorizados?", options: ["Sistema de detecci√≥n de intrusos (IDS)", "Switch", "Cable UTP"], answer: 0, explanation: "Un IDS analiza el tr√°fico en busca de patrones que indiquen accesos no autorizados o ataques." }
    ];

    let currentQuestion = 0;
    let score = 0;

    const questionEl = document.getElementById("question");
    const choicesEl = document.getElementById("choices");
    const feedbackEl = document.getElementById("feedback");
    const endMessage = document.getElementById("end-message");
    const scoreEl = document.getElementById("score");

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function showQuestion() {
      const current = questions[currentQuestion];
      questionEl.textContent = current.question;
      choicesEl.innerHTML = "";

      current.options.forEach((option, index) => {
        const button = document.createElement("button");
        button.textContent = option;
        button.onclick = () => selectAnswer(index);
        choicesEl.appendChild(button);
      });
    }

    function selectAnswer(selected) {
      const current = questions[currentQuestion];
      if (selected === current.answer) {
        feedbackEl.textContent = "‚úÖ Correcto: " + current.explanation;
        score++;
      } else {
        feedbackEl.textContent = "‚ùå Incorrecto: " + current.explanation;
      }

      currentQuestion++;
      if (currentQuestion < questions.length) {
        setTimeout(() => {
          feedbackEl.textContent = "";
          showQuestion();
        }, 1500);
      } else {
        setTimeout(() => {
          questionEl.classList.add("hidden");
          choicesEl.classList.add("hidden");
          feedbackEl.classList.add("hidden");
          endMessage.classList.remove("hidden");
          scoreEl.textContent = score;
        }, 1500);
      }
    }

    shuffleArray(questions);
    showQuestion();
  </script>
</body>
</html>
