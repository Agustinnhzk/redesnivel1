<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DesafÃ­o Redes - Nivel 5</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #0f172a;
      color: #f1f5f9;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .game-container {
      background-color: #1e293b;
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
      max-width: 600px;
      width: 100%;
    }
    h1, h2 {
      text-align: center;
    }
    .question {
      margin-bottom: 1rem;
    }
    .choices {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    button {
      padding: 1rem;
      border: none;
      border-radius: 0.5rem;
      background-color: #334155;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #475569;
    }
    .feedback {
      margin-top: 1rem;
      font-weight: bold;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="game-container">
    <h1>DesafÃ­o Redes</h1>
    <h2>Nivel 5</h2>
    <div id="question-container">
      <p class="question" id="question"></p>
      <div class="choices" id="choices"></div>
      <p class="feedback" id="feedback"></p>
    </div>
    <div id="end-message" class="hidden">
      <h2>Â¡Nivel superado, Agus! ðŸŽ‰</h2>
      <p>Puntaje final: <span id="score"></span>/30</p>
    </div>
  </div>

  <script>
    const questions = [
      { question: "Â¿QuÃ© funciÃ³n cumple el protocolo NAT?", options: ["Traduce direcciones IP privadas a pÃºblicas", "Asigna direcciones IP dinÃ¡micas", "Encripta datos en trÃ¡nsito"], answer: 0, explanation: "NAT (Network Address Translation) traduce direcciones IP privadas a pÃºblicas para acceso a internet." },
      { question: "Â¿QuÃ© protocolo permite mÃºltiples conexiones usando un mismo IP pÃºblico?", options: ["PAT", "TCP", "UDP"], answer: 0, explanation: "PAT (Port Address Translation) permite que varios dispositivos compartan una Ãºnica IP pÃºblica diferenciÃ¡ndolos por puertos." },
      { question: "Â¿CuÃ¡l es una caracterÃ­stica principal de TCP?", options: ["ConexiÃ³n orientada y confiable", "TransmisiÃ³n rÃ¡pida sin conexiÃ³n", "Uso exclusivo en redes inalÃ¡mbricas"], answer: 0, explanation: "TCP (Transmission Control Protocol) garantiza la entrega ordenada y confiable de los datos." },
      { question: "Â¿QuÃ© caracterÃ­stica tiene el protocolo UDP?", options: ["No garantiza la entrega de los datos", "Establece conexiones seguras", "Corrige errores automÃ¡ticamente"], answer: 0, explanation: "UDP (User Datagram Protocol) no garantiza entrega ni orden, pero es mÃ¡s rÃ¡pido y ligero." },
      { question: "Â¿QuÃ© identifica el puerto lÃ³gico en un encabezado TCP?", options: ["La aplicaciÃ³n origen y destino", "La direcciÃ³n IP", "El tamaÃ±o del paquete"], answer: 0, explanation: "El puerto lÃ³gico en TCP indica quÃ© aplicaciÃ³n genera o recibe la comunicaciÃ³n." },
      { question: "Â¿QuÃ© incluye el encabezado UDP?", options: ["Puerto de origen y destino", "Control de errores y ventana de congestiÃ³n", "Ajuste de flujo de datos"], answer: 0, explanation: "El encabezado UDP contiene informaciÃ³n bÃ¡sica como puertos de origen y destino, longitud y suma de verificaciÃ³n." },
      { question: "Â¿QuÃ© funciÃ³n tienen los puertos lÃ³gicos?", options: ["Identificar aplicaciones o servicios especÃ­ficos", "Conectar dispositivos fÃ­sicamente", "Asignar direcciones IP"], answer: 0, explanation: "Los puertos lÃ³gicos permiten dirigir los datos a las aplicaciones correctas dentro de un dispositivo." },
      { question: "Â¿QuÃ© rango abarcan los puertos bien conocidos?", options: ["0 a 1023", "1024 a 49151", "49152 a 65535"], answer: 0, explanation: "Los puertos bien conocidos van del 0 al 1023 y son utilizados por servicios estÃ¡ndar como HTTP o FTP." },
      { question: "Â¿QuÃ© protocolo usa el puerto 80?", options: ["HTTP", "FTP", "SMTP"], answer: 0, explanation: "HTTP utiliza el puerto 80 para la transferencia de pÃ¡ginas web." },
      { question: "Â¿QuÃ© protocolo de aplicaciÃ³n gestiona la asignaciÃ³n automÃ¡tica de IP?", options: ["DHCP", "DNS", "HTTP"], answer: 0, explanation: "DHCP (Dynamic Host Configuration Protocol) asigna direcciones IP automÃ¡ticamente a los dispositivos." },
      { question: "Â¿QuÃ© hace el protocolo DNS?", options: ["Traduce nombres de dominio a direcciones IP", "Asigna IP automÃ¡ticamente", "Encripta datos de navegaciÃ³n"], answer: 0, explanation: "DNS (Domain Name System) convierte nombres de dominio legibles en direcciones IP." },
      { question: "Â¿QuÃ© servicio proporciona seguridad en la transferencia de datos en internet?", options: ["SSL/TLS", "HTTP", "DHCP"], answer: 0, explanation: "SSL/TLS proporcionan seguridad cifrando las comunicaciones entre cliente y servidor." },
      { question: "Â¿CuÃ¡l es una funciÃ³n de TLS?", options: ["Cifrar las comunicaciones", "Asignar IPs dinÃ¡micamente", "Resolver nombres de dominio"], answer: 0, explanation: "TLS (Transport Layer Security) cifra los datos para proteger la comunicaciÃ³n." },
      { question: "Â¿QuÃ© hace un certificado digital en una conexiÃ³n HTTPS?", options: ["Verifica la identidad del servidor", "Asigna la direcciÃ³n IP", "Encripta archivos adjuntos"], answer: 0, explanation: "Un certificado digital asegura que el servidor es autÃ©ntico y permite establecer una conexiÃ³n segura." },
      { question: "Â¿QuÃ© protocolo se utiliza para navegar de forma segura en la web?", options: ["HTTPS", "FTP", "DHCP"], answer: 0, explanation: "HTTPS (HTTP Secure) usa SSL/TLS para proteger la comunicaciÃ³n entre el navegador y el servidor." },
      { question: "Â¿QuÃ© diferencia a HTTPS de HTTP?", options: ["HTTPS cifra los datos", "HTTPS es mÃ¡s rÃ¡pido", "HTTPS usa menos recursos"], answer: 0, explanation: "HTTPS cifra los datos transmitidos para proteger la privacidad del usuario." },
      { question: "Â¿QuÃ© protocolo se usa para transferir archivos de forma simple sin autenticaciÃ³n?", options: ["TFTP", "FTP", "SFTP"], answer: 0, explanation: "TFTP (Trivial File Transfer Protocol) permite transferencias de archivos simples, sin autenticaciÃ³n avanzada." },
      { question: "Â¿QuÃ© protocolo permite la transferencia segura de archivos usando cifrado?", options: ["SFTP", "TFTP", "HTTP"], answer: 0, explanation: "SFTP (SSH File Transfer Protocol) transfiere archivos de manera segura utilizando cifrado SSH." },
      { question: "Â¿QuÃ© caracterÃ­stica tiene FTP?", options: ["Permite transferir archivos mediante autenticaciÃ³n", "Cifra toda la transferencia", "Utiliza solo la red interna"], answer: 0, explanation: "FTP (File Transfer Protocol) permite la transferencia de archivos y puede requerir autenticaciÃ³n de usuario." },
      { question: "Â¿QuÃ© protocolo es FTP sobre SSL/TLS?", options: ["FTPS", "SFTP", "TFTP"], answer: 0, explanation: "FTPS (FTP Secure) agrega seguridad SSL/TLS al protocolo FTP." },
      { question: "Â¿QuÃ© protocolo se usa para enviar correos electrÃ³nicos?", options: ["SMTP", "POP3", "IMAP"], answer: 0, explanation: "SMTP (Simple Mail Transfer Protocol) se utiliza para el envÃ­o de correos electrÃ³nicos." },
      { question: "Â¿QuÃ© protocolo permite descargar correos manteniÃ©ndolos en el servidor?", options: ["IMAP", "POP3", "SMTP"], answer: 0, explanation: "IMAP (Internet Message Access Protocol) permite acceder a los correos en el servidor sin descargarlos." },
      { question: "Â¿QuÃ© protocolo descarga los correos y los elimina del servidor?", options: ["POP3", "IMAP", "SMTP"], answer: 0, explanation: "POP3 (Post Office Protocol v3) descarga los correos y generalmente los elimina del servidor." },
      { question: "Â¿QuÃ© puerto usa SMTP tÃ­picamente?", options: ["25", "80", "443"], answer: 0, explanation: "SMTP utiliza normalmente el puerto 25 para la transmisiÃ³n de correos." },
      { question: "Â¿QuÃ© puerto usa IMAP normalmente?", options: ["143", "110", "25"], answer: 0, explanation: "IMAP utiliza tÃ­picamente el puerto 143 para acceder a los correos almacenados en el servidor." },
      { question: "Â¿QuÃ© puerto usa POP3?", options: ["110", "443", "21"], answer: 0, explanation: "POP3 utiliza el puerto 110 para descargar correos electrÃ³nicos desde el servidor." },
      { question: "Â¿QuÃ© protocolo utiliza el puerto 443?", options: ["HTTPS", "HTTP", "FTP"], answer: 0, explanation: "HTTPS utiliza el puerto 443 para establecer conexiones web seguras." },
      { question: "Â¿QuÃ© servicio permite obtener automÃ¡ticamente informaciÃ³n de red como IP, puerta de enlace y DNS?", options: ["DHCP", "DNS", "FTP"], answer: 0, explanation: "DHCP asigna automÃ¡ticamente informaciÃ³n de red como IP, mÃ¡scara de subred, puerta de enlace y DNS." },
      { question: "Â¿QuÃ© protocolo resuelve nombres de dominio como www.example.com?", options: ["DNS", "HTTP", "FTP"], answer: 0, explanation: "DNS traduce nombres de dominio legibles por humanos a direcciones IP." },
      { question: "Â¿QuÃ© capa del modelo OSI operan la mayorÃ­a de los protocolos de aplicaciÃ³n como HTTP, FTP y SMTP?", options: ["Capa 7 (AplicaciÃ³n)", "Capa 4 (Transporte)", "Capa 3 (Red)"], answer: 0, explanation: "HTTP, FTP, SMTP y otros protocolos de aplicaciÃ³n trabajan en la Capa 7 del modelo OSI." }
    ];
   
    

    

    let currentQuestion = 0;
    let score = 0;

    const questionEl = document.getElementById("question");
    const choicesEl = document.getElementById("choices");
    const feedbackEl = document.getElementById("feedback");
    const endMessage = document.getElementById("end-message");
    const scoreEl = document.getElementById("score");

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function showQuestion() {
      const q = questions[currentQuestion];
      questionEl.textContent = q.question;

      // Mezcla las opciones antes de mostrarlas
      const shuffledOptions = [...q.options];
      shuffleArray(shuffledOptions);

      choicesEl.innerHTML = "";
      feedbackEl.textContent = "";

      shuffledOptions.forEach((opt, idx) => {
        const btn = document.createElement("button");
        btn.textContent = opt;
        btn.onclick = () => checkAnswer(idx, shuffledOptions, q);
        choicesEl.appendChild(btn);
      });
    }

    function checkAnswer(selected, shuffledOptions, q) {
      const correctIndex = shuffledOptions.indexOf(q.options[q.answer]);

      if (selected === correctIndex) {
        score++;
        feedbackEl.textContent = "âœ… Â¡Correcto! " + q.explanation;
      } else {
        feedbackEl.textContent = "âŒ Incorrecto. " + q.explanation;
      }

      setTimeout(() => {
        currentQuestion++;
        if (currentQuestion < questions.length) {
          showQuestion();
        } else {
          document.getElementById("question-container").classList.add("hidden");
          endMessage.classList.remove("hidden");
          scoreEl.textContent = score;
        }
      }, 5000); // Pausa de 5 segundos
    }

    showQuestion();
  </script>
</body>
</html>